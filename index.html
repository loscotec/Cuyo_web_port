<!doctypehtml><html lang=en-us><head><meta charset=utf-8><meta content="text/html; charset=utf-8"http-equiv=Content-Type><title>Cuyo Web Port</title><link href=data:image/x-icon;base64,AAABAAEAAQEAAAEAIAAwAAAAFgAAACgAAAABAAAAAgAAAAEAIAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAnJycA rel=icon><style>body{font-family:Outfit,sans-serif;margin:0;padding:0;background-color:#0d0d1a;color:#e0e0e0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;overflow:hidden;background:radial-gradient(circle at center,#1a1a3a 0,#0d0d1a 100%)}#container{position:relative;box-shadow:0 0 50px rgba(0,0,0,.8),0 0 20px rgba(100,100,255,.2);border:2px solid #2a2a4a;border-radius:8px;overflow:hidden;display:flex;align-items:center;justify-content:center;transition:transform .2s ease-out}canvas{display:block;background-color:#000;image-rendering:auto;max-width:100%;max-height:100%}@media (max-width:600px) and (orientation:portrait){#container{width:100vw;height:100vh;border:none;border-radius:0}canvas{transform:scale(1.6);transform-origin:center center}}#output{display:none}#controls{margin-top:20px;display:flex;gap:15px}.utility-button{background:rgba(255,255,255,.05);color:#aaa;border:1px solid rgba(255,255,255,.1);padding:8px 16px;border-radius:4px;font-size:.8rem;cursor:pointer;transition:all .2s}.utility-button:hover{background:rgba(255,255,255,.1);color:#fff}#fileInput{display:none}</style></head><body><div id=container><canvas id=canvas oncontextmenu=event.preventDefault() tabindex=-1></canvas></div><div id=controls><button class=utility-button onclick=exportSave()>EXPORT SAVE</button> <button class=utility-button onclick='document.getElementById("fileInput").click()'>IMPORT SAVE</button> <input id=fileInput onchange=importSave(event) type=file></div><textarea id=output rows=8></textarea><script>window.location.pathname.endsWith("cuyo_shell.html")&&alert("Note: This is the template shell. Please open 'index.html' to play the game with all changes applied."),function(){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(t,o){return"2d"===t&&((o=o||{}).willReadFrequently=!0),e.call(this,t,o)}}();var statusElement=document.getElementById("status"),Module={preRun:[function(){FS.mkdir("/home/cuyo"),FS.mount(IDBFS,{},"/home/cuyo"),ENV.HOME="/home/cuyo",addRunDependency("syncfs-load"),FS.syncfs(!0,(function(e){e?console.error("IDBFS initial sync error:",e):console.log("IDBFS synced from IndexedDB successfully"),removeRunDependency("syncfs-load")}))}],postRun:[function(){handleResize()}],print:function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments).join(" ")),console.log(e)},printErr:function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments).join(" ")),console.error(e)},SDL_canPlayWithWebAudio:function(e){return!e||!e.toLowerCase().endsWith(".it")},noAudioDecoding:!0,canvas:document.getElementById("canvas"),setStatus:function(e){if(Module.setStatus.last||(Module.setStatus.last={time:Date.now(),text:""}),e!==Module.setStatus.last.text){var t=e.match(/([^(]+)\((\d+(\.\d+)?)\/(\d+)\)/),o=Date.now();t&&o-Module.setStatus.last.time<30||(Module.setStatus.last.time=o,Module.setStatus.last.text=e,console.log("Status: "+e))}},totalDependencies:0,monitorRunDependencies:function(e){this.totalDependencies=Math.max(this.totalDependencies,e)}};function js_sync_fs(){"undefined"!=typeof FS&&FS.syncfs&&(console.log("Syncing FS to IndexedDB..."),FS.syncfs(!1,(function(e){e?console.error("Error syncing FS:",e):console.log("FS synced successfully")})))}function exportSave(){try{const e=FS.readFile("/home/cuyo/.cuyo",{encoding:"utf8"}),t=new Blob([e],{type:"text/plain"}),o=URL.createObjectURL(t),n=document.createElement("a");n.href=o,n.download="cuyo.save",n.click(),URL.revokeObjectURL(o)}catch(e){alert("No save data found to export.")}}function importSave(e){const t=e.target.files[0];if(!t)return;const o=new FileReader;o.onload=function(e){const t=e.target.result;if(void 0!==Module&&"function"==typeof Module._importSaveData){const e=allocate(intArrayFromString(t),"i8",ALLOC_NORMAL);Module._importSaveData(e),_free(e),alert("Save imported successfully! The page will now reload."),location.reload()}},o.readAsText(t)}Module.setStatus("Downloading..."),window.onerror=function(){Module.setStatus("Exception thrown, see JavaScript console")},window.addEventListener("keydown",(function(e){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space"].indexOf(e.code)>-1&&e.preventDefault(),"+"===e.key||"="===e.key?adjustZoom(.1):"-"===e.key&&adjustZoom(-.1)}),!1);var currentZoom=1;function adjustZoom(e){currentZoom=Math.max(.5,Math.min(3,currentZoom+e)),document.getElementById("container").style.transform=`scale(${currentZoom})`}function handleResize(){const e=document.getElementById("canvas"),t=document.getElementById("container");if(e.width&&e.height){const o=e.width/e.height;window.innerWidth/window.innerHeight>o?(t.style.height="90vh",t.style.width=90*o+"vh"):(t.style.width="90vw",t.style.height=90/o+"vw")}else setTimeout(handleResize,100)}window.addEventListener("resize",handleResize),document.addEventListener("click",(function(){document.getElementById("canvas").focus(),"undefined"!=typeof SDL&&SDL.audioContext&&"suspended"===SDL.audioContext.state?SDL.audioContext.resume().then((()=>{console.log("AudioContext resumed successfully"),void 0!==Module&&"function"==typeof Module._syncMusic&&Module._syncMusic()})):void 0!==Module&&"function"==typeof Module._syncMusic&&Module._syncMusic()}))</script><script async src=index.js></script></body></html>